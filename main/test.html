<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    #cart-container {
      position: fixed;
      top: 0;
      right: -300px;
      width: 300px;
      height: 100%;
      background-color: #f8f9fa;
      transition: right 0.3s ease-in-out;
      overflow-y: auto;
    }

    #cart-content {
      padding: 20px;
    }

    #open-cart-btn {
      position: fixed;
      top: 10px;
      right: 10px;
      z-index: 1000;
    }
  </style>
  <title>Shopping Cart with +/- Buttons</title>
</head>
<body>

<div class="container mt-5">
  <h2 class="mb-4">Shopping Cart</h2>

  <div class="row">
    <div class="col-md-8">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Product 1</h5>
          <p class="card-text">Price: $10.00</p>
          <div class="input-group mb-3">
            <button class="btn btn-outline-secondary add-to-cart" data-product="Product 1" data-price="10.00">Add to Cart</button>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-4">
      <div id="cart-container">
        <div id="cart-content">
          <h5 class="card-title">Shopping Cart</h5>
          <ul id="cart" class="list-group mb-3">
            <!-- Cart items will be added here dynamically -->
          </ul>
          <h6>Total: $<span id="total">0.00</span></h6>
        </div>
      </div>
    </div>
  </div>

  <!-- Button to open/close the shopping cart -->
  <button id="open-cart-btn" class="btn btn-outline-secondary">Toggle Cart</button>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const cartContainer = document.getElementById("cart-container");
    const openCartBtn = document.getElementById("open-cart-btn");
    const cartList = document.getElementById("cart");
    const totalSpan = document.getElementById("total");
    let total = 0;

    openCartBtn.addEventListener("click", function () {
      // Toggle the cart visibility with a transition from the right
      const rightValue = getComputedStyle(cartContainer).right;
      if (rightValue === "0px") {
        cartContainer.style.right = "-300px";
      } else {
        cartContainer.style.right = "0";
      }
    });

    document.addEventListener("click", function (event) {
      if (event.target.classList.contains("add-to-cart")) {
        const product = event.target.getAttribute("data-product");
        const price = parseFloat(event.target.getAttribute("data-price"));

        // Check if the product is already in the cart
        const existingItem = Array.from(cartList.children).find(item => item.dataset.product === product);

        if (existingItem) {
          // If the product is already in the cart, update the quantity
          const quantitySpan = existingItem.querySelector(".quantity");
          const quantity = parseInt(quantitySpan.textContent) + 1;
          quantitySpan.textContent = quantity;
        } else {
          // If the product is not in the cart, add it
          const listItem = document.createElement("li");
          listItem.classList.add("list-group-item");
          listItem.dataset.product = product;
          listItem.dataset.price = price;
          listItem.innerHTML = `
            ${product} - $${price.toFixed(2)} 
            <span class="quantity">1</span> 
            <button class="btn btn-outline-secondary btn-sm mx-2 add-item">+</button> 
            <button class="btn btn-outline-secondary btn-sm remove-item">-</button>
          `;

          cartList.appendChild(listItem);
        }

        // Update total
        total += price;
        totalSpan.textContent = total.toFixed(2);
      } else if (event.target.classList.contains("add-item")) {
        const listItem = event.target.closest("li");
        const price = parseFloat(listItem.dataset.price);

        // Update quantity
        const quantitySpan = listItem.querySelector(".quantity");
        const quantity = parseInt(quantitySpan.textContent) + 1;
        quantitySpan.textContent = quantity;

        // Update total
        total += price;
        totalSpan.textContent = total.toFixed(2);
      } else if (event.target.classList.contains("remove-item")) {
        const listItem = event.target.closest("li");
        const price = parseFloat(listItem.dataset.price);

        // Update quantity
        const quantitySpan = listItem.querySelector(".quantity");
        const quantity = parseInt(quantitySpan.textContent) - 1;

        if (quantity === 0) {
          // If quantity is zero, remove the item from the cart
          listItem.remove();
        } else {
          quantitySpan.textContent = quantity;
        }

        // Update total
        total -= price;
        totalSpan.textContent = total.toFixed(2);
      }
    });
  });
</script>

</body>
</html>
